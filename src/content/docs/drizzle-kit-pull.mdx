import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import Drivers from "@mdx/Drivers.mdx"
import Dialects from "@mdx/Dialects.mdx"
import Npm from "@mdx/Npm.astro"
import Npx from "@mdx/Npx.astro"

# `drizzle-kit pull`

<Prerequisites>
  - Get started with Drizzle and `drizzle-kit` - [read here](/docs/get-started)
  - Drizzle schema foundamentals - [read here](/docs/sql-schema-declaration) 
  - Database connection basics - [read here](/docs/connect-overview) 
  - Drizzle migrations foundamentals - [read here](/docs/migrations) 
  - Drizzle Kit [overview](/docs/kit-overview) and [config file](/docs/drizzle-config-file) docs
</Prerequisites>

`drizzle-kit pull` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì ¸ì™€ì„œ(introspect) `schema.ts` íŒŒì¼ë¡œ Drizzle ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì˜ [ë°ì´í„°ë² ì´ìŠ¤ ìš°ì„  ì ‘ê·¼ ë°©ì‹](/docs/migrations)ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

<Callout collapsed="ë‚´ë¶€ ë™ì‘ ì›ë¦¬">
Drizzle Kitì˜ `pull` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì´ ì§„í–‰ë©ë‹ˆë‹¤:
1. ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìŠ¤í‚¤ë§ˆ(DDL)ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
2. `schema.ts` íŒŒì¼ì„ ìƒì„±í•˜ê³  `out` í´ë”ì— ì €ì¥í•©ë‹ˆë‹¤.

<Section>
```
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
                                  â”‚                        â”‚ <---  CREATE TABLE "users" (
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                        â”‚        "id" SERIAL PRIMARY KEY,
â”‚ ~ drizzle-kit pull       â”‚      â”‚                        â”‚        "name" TEXT,
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚        DATABASE        â”‚        "email" TEXT UNIQUE
  â”‚                               â”‚                        â”‚       );
  â”” ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ê°€ì ¸ì˜¤ê¸° -----> â”‚                        â”‚
  â”Œ Drizzle ìŠ¤í‚¤ë§ˆ ìƒì„±       <----- â”‚                        â”‚
  â”‚ TypeScript íŒŒì¼ ìƒì„±            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  v
```
```typescript
import * as p from "drizzle-orm/pg-core";

export const users = p.pgTable("users", {
  id: p.serial().primaryKey(),
  name: p.text(),
  email: p.text().unique(), 
};
```
</Section>
</Callout>

ì´ ê¸°ëŠ¥ì€ TypeScript í”„ë¡œì íŠ¸ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê´€ë¦¬í•˜ê±°ë‚˜, ë‹¤ë¥¸ ì‚¬ëŒì´ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

<br/>
<hr/>
<br/>

`drizzle-kit pull`ì„ ì‚¬ìš©í•˜ë ¤ë©´ `dialect`ì™€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° `url` ë˜ëŠ” `user:password@host:port/db` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê°’ë“¤ì€ [drizzle.config.ts](/docs/drizzle-config-file) ì„¤ì • íŒŒì¼ì„ í†µí•´ ì œê³µí•˜ê±°ë‚˜ CLI ì˜µì…˜ìœ¼ë¡œ ì§ì ‘ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<CodeTabs items={["ì„¤ì • íŒŒì¼ ì‚¬ìš©", "CLI ì˜µì…˜ ì‚¬ìš©"]}>
<Section>
```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
});
```
```shell
npx drizzle-kit pull
```
</Section>

```shell
npx drizzle-kit pull --dialect=postgresql --url=postgresql://user:password@host:port/dbname
```
</CodeTabs>


### í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ ì‚¬ìš©í•˜ê¸°

í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ë‹¨ê³„ë‚˜ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤, ë˜ëŠ” ë™ì¼í•œ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

```bash
npx drizzle-kit pull --config=drizzle-dev.config.ts
npx drizzle-kit pull --config=drizzle-prod.config.ts
```

```plaintext {5-6}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

ìœ„ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, `drizzle-dev.config.ts`ì™€ `drizzle-prod.config.ts`ë¼ëŠ” ë‘ ê°œì˜ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œ í™˜ê²½ê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ì„ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê° í™˜ê²½ì— ë§ëŠ” ì„¤ì •ì„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ ì§€ì •í•˜ê¸°

<Callout type="warning">
**Expo SQLite**ì™€ **OP SQLite**ëŠ” ê¸°ê¸° ë‚´(ì‚¬ìš©ìë³„) ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ì´ê³³ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ `pull`í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ìŠµë‹ˆë‹¤.<br/>
ì„ë² ë””ë“œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½ìš° Drizzleì€ **ì„ë² ë””ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜**ì„ ì œê³µí•©ë‹ˆë‹¤. [ì‹œì‘í•˜ê¸°](/docs/get-started/expo-new) ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
</Callout>

Drizzle Kitì€ ì‚¬ì „ì— ë²ˆë“¤ë§ëœ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ `dialect`ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì„ íƒí•©ë‹ˆë‹¤. [í† ë¡  ì°¸ê³ ](https://github.com/drizzle-team/drizzle-orm/discussions/2203)

ëŒ€ë¶€ë¶„ ë™ì¼í•œ `dialect`ì˜ ë“œë¼ì´ë²„ë“¤ì€ ë™ì¼í•œ ì—°ê²° íŒŒë¼ë¯¸í„° ì§‘í•©ì„ ê³µìœ í•©ë‹ˆë‹¤. 
í•˜ì§€ë§Œ `aws-data-api`, `pglight`, `d1-http`ì™€ ê°™ì€ ì˜ˆì™¸ì ì¸ ê²½ìš°ì—ëŠ” `driver` íŒŒë¼ë¯¸í„°ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

<CodeTabs items={["AWS Data API", "PGLite", "Cloudflare D1 HTTP"]}>
```ts {6}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  driver: "aws-data-api",
  dbCredentials: {
    database: "database",
    resourceArn: "resourceArn",
    secretArn: "secretArn",
  },
});
```
```ts {6}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  driver: "pglite",
  dbCredentials: {
    // ë©”ëª¨ë¦¬ ë‚´
    url: ":memory:"
    
    // ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ í´ë”
    url: "./database/"
  },
});
```
```ts {6}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "sqlite",
  driver: "d1-http",
  dbCredentials: {
    accountId: "accountId",
    databaseId: "databaseId",
    token: "token",
  },
});
```
</CodeTabs>


### í…Œì´ë¸”, ìŠ¤í‚¤ë§ˆ, í™•ì¥ ê¸°ëŠ¥ í¬í•¨í•˜ê¸°

`drizzle-kit push`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `public` ìŠ¤í‚¤ë§ˆì˜ ëª¨ë“  í…Œì´ë¸”ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.  
`tablesFilters`, `schemaFilter`, `extensionFilters` ì˜µì…˜ì„ í†µí•´ í…Œì´ë¸” ëª©ë¡, ìŠ¤í‚¤ë§ˆ, í™•ì¥ ê¸°ëŠ¥ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

|                     |                                                                                               |
| :------------------ | :-------------------------------------------------------------------------------------------- |
| `tablesFilter`      | `glob` ê¸°ë°˜ í…Œì´ë¸” ì´ë¦„ í•„í„°, ì˜ˆ: `["users", "user_info"]` ë˜ëŠ” `"user*"`. ê¸°ë³¸ê°’ì€ `"*"`     |
| `schemaFilter`      | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°, ì˜ˆ: `["public", "drizzle"]`. ê¸°ë³¸ê°’ì€ `["public"]`                          |
| `extensionsFilters` | ì„¤ì¹˜ëœ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ê¸°ëŠ¥ ëª©ë¡, ì˜ˆ: `["postgis"]`. ê¸°ë³¸ê°’ì€ `[]`                          |
<br/>

**public** ìŠ¤í‚¤ë§ˆì˜ **ëª¨ë“  í…Œì´ë¸”**ë§Œ ì‘ì—…í•˜ê³ ,  
`drizzle-kit`ì—ê²Œ **postgis** í™•ì¥ ê¸°ëŠ¥ì´ ì„¤ì¹˜ë˜ì–´ ìˆìŒì„ ì•Œë ¤ì¤ë‹ˆë‹¤.  
ì´ í™•ì¥ ê¸°ëŠ¥ì€ `public` ìŠ¤í‚¤ë§ˆì— ìì²´ í…Œì´ë¸”ì„ ìƒì„±í•˜ë¯€ë¡œ, `drizzle`ì´ ì´ë¥¼ ë¬´ì‹œí•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

<Section>
```ts filename="drizzle.config.ts" {9-11}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
  extensionsFilters: ["postgis"],
  schemaFilter: ["public"],
  tablesFilter: ["*"],
});
```
```shell
npx drizzle-kit push
```
</Section>


### í™•ì¥ëœ ì„¤ì • ëª©ë¡

`drizzle-kit` ì„¤ì •ì€ [drizzle.config.ts](/docs/drizzle-config-file) íŒŒì¼ì„ í†µí•´ êµ¬ì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ CI/CD íŒŒì´í”„ë¼ì¸ ë“±ì—ì„œ í•„ìš”í•  ê²½ìš°, ëª¨ë“  ì„¤ì • ì˜µì…˜ì„ ì»¤ë§¨ë“œë¼ì¸ì„ í†µí•´ ì œê³µí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

|                     |            |                                                                           |
| :------------------ | :--------- | :------------------------------------------------------------------------ |
| `dialect`           | `í•„ìˆ˜`     | ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸, <Dialects/> ì¤‘ í•˜ë‚˜                                    |
| `driver`            |            | ë“œë¼ì´ë²„ ì˜ˆì™¸ <Drivers/>                                                  |
| `out`               |            | ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶œë ¥ í´ë” ê²½ë¡œ, ê¸°ë³¸ê°’ì€ `./drizzle`                         |
| `url`               |            | ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ìì—´                                                  |
| `user`              |            | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì                                                       |
| `password`          |            | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸                                                     |
| `host`              |            | í˜¸ìŠ¤íŠ¸                                                                    |
| `port`              |            | í¬íŠ¸                                                                      |
| `database`          |            | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„                                                         |
| `config`            |            | ì„¤ì • íŒŒì¼ ê²½ë¡œ, ê¸°ë³¸ê°’ì€ `drizzle.config.ts`                              |
| `introspect-casing` |            | ì»¬ëŸ¼, í…Œì´ë¸” ë“±ì˜ JS í‚¤ ìƒì„± ì „ëµ. `preserve` ë˜ëŠ” `camel`                |
| `tablesFilter`      |            | í…Œì´ë¸” ì´ë¦„ í•„í„°                                                          |
| `schemaFilter`      |            | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°. ê¸°ë³¸ê°’: `["public"]`                                    |
| `extensionsFilters` |            | ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ê¸°ëŠ¥ ë‚´ë¶€ í•„í„°                                          |

<Npx>
drizzle-kit pull --dialect=postgresql --schema=src/schema.ts --url=postgresql://user:password@host:port/dbname
drizzle-kit pull --dialect=postgresql --schema=src/schema.ts --driver=pglite url=database/
drizzle-kit pull --dialect=postgresql --schema=src/schema.ts --tablesFilter='user*' --extensionsFilters=postgis url=postgresql://user:password@host:port/dbname
</Npx>

![](@/assets/gifs/introspect_mysql.gif)


