import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import Npx from "@mdx/Npx.astro";
import SchemaFilePaths from "@mdx/SchemaFilePaths.mdx";
import Drivers from "@mdx/Drivers.mdx"
import Dialects from "@mdx/Dialects.mdx"
import DriversExamples from "@mdx/DriversExamples.mdx"

# `drizzle-kit push`

<Prerequisites>
  - Drizzleì™€ `drizzle-kit` ì‹œì‘í•˜ê¸° - [ì—¬ê¸°ì„œ ì½ê¸°](/docs/get-started)
  - Drizzle ìŠ¤í‚¤ë§ˆ ê¸°ë³¸ ê°œë… - [ì—¬ê¸°ì„œ ì½ê¸°](/docs/sql-schema-declaration)
  - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê¸°ë³¸ - [ì—¬ê¸°ì„œ ì½ê¸°](/docs/connect-overview)
  - Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ë³¸ - [ì—¬ê¸°ì„œ ì½ê¸°](/docs/migrations)
  - Drizzle Kit [ê°œìš”](/docs/kit-overview) ë° [ì„¤ì • íŒŒì¼](/docs/drizzle-config-file) ë¬¸ì„œ
</Prerequisites>

`drizzle-kit push`ëŠ” SQL íŒŒì¼ ìƒì„±ì„ ìƒëµí•˜ê³  ìŠ¤í‚¤ë§ˆì™€ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‚¬í•­ì„ ì§ì ‘ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ Drizzle ë§ˆì´ê·¸ë ˆì´ì…˜ì˜ [ì½”ë“œ ìš°ì„ (code first)](/docs/migrations) ì ‘ê·¼ ë°©ì‹ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

<Callout collapsed="ë‚´ë¶€ ë™ì‘ ì›ë¦¬">
Drizzle Kit `push` ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì´ ì§„í–‰ë©ë‹ˆë‹¤:
1. Drizzle ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ì½ê³  ìŠ¤í‚¤ë§ˆì˜ JSON ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•©ë‹ˆë‹¤.
2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤(introspect).
3. ë‘ ìŠ¤í‚¤ë§ˆ ê°„ì˜ ì°¨ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ SQL ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤.
4. SQL ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©í•©ë‹ˆë‹¤.

<Section>
```typescript filename="src/schema.ts"
import * as p from "drizzle-orm/pg-core";

export const users = p.pgTable("users", {
  id: p.serial().primaryKey(),
  name: p.text(),
});
```
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  
â”‚ ~ drizzle-kit push  â”‚                  
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  
  â”‚                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”” í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ê°€ì ¸ì˜¤ê¸° ------> â”‚                          â”‚
                                              â”‚                          â”‚
  â”Œ ì°¨ì´ì ì„ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½ ì‚¬í•­ ìƒì„± <------ â”‚         DATABASE         â”‚
  â”‚                                           â”‚                          â”‚
  â”” ë°ì´í„°ë² ì´ìŠ¤ì— ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© -------> â”‚                          â”‚
                                       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   create table users(id serial primary key, name text);
```
</Section>
</Callout>

ì´ ë°©ë²•ì€ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì— ê°€ì¥ ì í•©í•˜ë©°, ë§ì€ íŒ€ê³¼ ê°œì¸ ê°œë°œìë“¤ì´ í”„ë¡œë•ì…˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì£¼ìš” ë§ˆì´ê·¸ë ˆì´ì…˜ íë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ [Planetscale](https://planetscale.com/), [Neon](https://neon.tech/), [Turso](https://turso.tech/drizzle)ì™€ ê°™ì€ ì„œë²„ë¦¬ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¸”ë£¨/ê·¸ë¦° ë°°í¬ ì „ëµê³¼ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.

<br/>
<hr/>
<br/>

`drizzle-kit push`ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ `dialect`, `schema` íŒŒì¼ ê²½ë¡œ, ê·¸ë¦¬ê³  ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° `url` ë˜ëŠ” `user:password@host:port/db` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê°’ë“¤ì€ [drizzle.config.ts](/docs/drizzle-config-file) ì„¤ì • íŒŒì¼ì„ í†µí•´ ì œê³µí•˜ê±°ë‚˜ CLI ì˜µì…˜ìœ¼ë¡œ ì§ì ‘ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<CodeTabs items={["ì„¤ì • íŒŒì¼ ì‚¬ìš©", "CLI ì˜µì…˜ ì‚¬ìš©"]}>
<Section>
```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
});
```
```shell
npx drizzle-kit push
```
</Section>

```shell
npx drizzle-kit push --dialect=postgresql --schema=./src/schema.ts --url=postgresql://user:password@host:port/dbname
```

</CodeTabs>


### ìŠ¤í‚¤ë§ˆ íŒŒì¼ ê²½ë¡œ

ì—¬ëŸ¬ë¶„ì€ í•˜ë‚˜ì˜ `schema.ts` íŒŒì¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜, í”„ë¡œì íŠ¸ ì „ì²´ì— ê±¸ì³ ì›í•˜ëŠ” ë§Œí¼ì˜ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ë¶„ì‚°ì‹œì¼œ ë°°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Drizzle Kitì€ ì´ íŒŒì¼ë“¤ì˜ ê²½ë¡œë¥¼ [glob](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs) í˜•ì‹ìœ¼ë¡œ `schema` ì„¤ì • ì˜µì…˜ì— ì§€ì •í•˜ë„ë¡ ìš”êµ¬í•©ë‹ˆë‹¤.

<SchemaFilePaths />


### í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ ì‚¬ìš©í•˜ê¸°

í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ë‹¨ê³„ë‚˜ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤, ë˜ëŠ” ë™ì¼í•œ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

```bash
npx drizzle-kit push --config=drizzle-dev.config.ts
npx drizzle-kit push --config=drizzle-prod.config.ts
```

```plaintext {5-6}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

ìœ„ ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, `drizzle-dev.config.ts`ì™€ `drizzle-prod.config.ts`ë¼ëŠ” ë‘ ê°œì˜ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œ í™˜ê²½ê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ì„ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê° í™˜ê²½ì— ë§ëŠ” ì„¤ì •ì„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ ì§€ì •í•˜ê¸°

<Callout type="warning">
**Expo SQLite**ì™€ **OP SQLite**ëŠ” ê¸°ê¸° ë‚´(ì‚¬ìš©ìë³„) ë°ì´í„°ë² ì´ìŠ¤ë¡œ, ë§ˆì´ê·¸ë ˆì´ì…˜ì„ `push`í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br/>
ì„ë² ë””ë“œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½ìš° Drizzleì—ì„œ **ì„ë² ë””ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜**ì„ ì œê³µí•©ë‹ˆë‹¤. [ì‹œì‘í•˜ê¸°](/docs/get-started/expo-new) ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
</Callout>

Drizzle Kitì€ ì‚¬ì „ì— ë²ˆë“¤ë§ëœ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ `dialect`ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì„ íƒí•©ë‹ˆë‹¤. [í† ë¡  ì°¸ê³ ](https://github.com/drizzle-team/drizzle-orm/discussions/2203)

ëŒ€ë¶€ë¶„ ë™ì¼í•œ dialectë¥¼ ì‚¬ìš©í•˜ëŠ” ë“œë¼ì´ë²„ë“¤ì€ ë™ì¼í•œ ì—°ê²° íŒŒë¼ë¯¸í„° ì§‘í•©ì„ ê³µìœ í•©ë‹ˆë‹¤. 
ë‹¨, `aws-data-api`, `pglight`, `d1-http`ì™€ ê°™ì€ ì˜ˆì™¸ì ì¸ ê²½ìš°ì—ëŠ” `driver` íŒŒë¼ë¯¸í„°ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

<DriversExamples/>


### í…Œì´ë¸”, ìŠ¤í‚¤ë§ˆ, í™•ì¥ ê¸°ëŠ¥ í¬í•¨í•˜ê¸°

`drizzle-kit push`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `public` ìŠ¤í‚¤ë§ˆì˜ ëª¨ë“  í…Œì´ë¸”ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.  
`tablesFilters`, `schemaFilter`, `extensionFilters` ì˜µì…˜ì„ í†µí•´ í…Œì´ë¸” ëª©ë¡, ìŠ¤í‚¤ë§ˆ, í™•ì¥ ê¸°ëŠ¥ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

|                     |                                                                                               |
| :------------------ | :-------------------------------------------------------------------------------------------- |
| `tablesFilter`      | `glob` ê¸°ë°˜ í…Œì´ë¸” ì´ë¦„ í•„í„°, ì˜ˆ: `["users", "user_info"]` ë˜ëŠ” `"user*"`. ê¸°ë³¸ê°’ì€ `"*"`     |
| `schemaFilter`      | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°, ì˜ˆ: `["public", "drizzle"]`. ê¸°ë³¸ê°’ì€ `["public"]`                          |
| `extensionsFilters` | ì„¤ì¹˜ëœ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ê¸°ëŠ¥ ëª©ë¡, ì˜ˆ: `["postgis"]`. ê¸°ë³¸ê°’ì€ `[]`                          |
<br/>

**public** ìŠ¤í‚¤ë§ˆì˜ **ëª¨ë“  í…Œì´ë¸”**ë§Œ ì‘ì—…í•˜ê³ ,  
`drizzle-kit`ì—ê²Œ **postgis** í™•ì¥ ê¸°ëŠ¥ì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤ë‹ˆë‹¤.  
ì´ í™•ì¥ ê¸°ëŠ¥ì€ `public` ìŠ¤í‚¤ë§ˆì— ìì²´ í…Œì´ë¸”ì„ ìƒì„±í•˜ë¯€ë¡œ, `drizzle`ì´ ì´ë¥¼ ë¬´ì‹œí•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

<Section>
```ts filename="drizzle.config.ts" {9-11}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname",
  },
  extensionsFilters: ["postgis"],
  schemaFilter: ["public"],
  tablesFilter: ["*"],
});
```
```shell
npx drizzle-kit push
```
</Section>


### í™•ì¥ëœ ì„¤ì • ëª©ë¡

`drizzle-kit push` ëª…ë ¹ì–´ëŠ” CLI ì „ìš© ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.

<rem025/>

|           |                                                          |
| :-------- | :---------------------------------------------------     |
| `verbose` | ì‹¤í–‰ ì „ ëª¨ë“  SQL ë¬¸ì¥ì„ ì¶œë ¥                             |
| `strict`  | SQL ë¬¸ì¥ ì‹¤í–‰ ì „ í•­ìƒ ìŠ¹ì¸ ìš”ì²­                          |
| `force`   | ë°ì´í„° ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë¬¸ì¥ ìë™ ìŠ¹ì¸         |
<br/>
<Npx>
drizzle-kit push --strict --verbose --force
</Npx>

<br/>
<hr/>
<br/>
`drizzle-kit` ì„¤ì •ì€ [drizzle.config.ts](/docs/drizzle-config-file) íŒŒì¼ì„ í†µí•´ êµ¬ì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ CI/CD íŒŒì´í”„ë¼ì¸ ë“±ì—ì„œ í•„ìš”í•  ê²½ìš° CLIë¥¼ í†µí•´ ëª¨ë“  ì„¤ì • ì˜µì…˜ì„ ì œê³µí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

|                     |            |                                                                           |
| :------------------ | :--------- | :------------------------------------------------------------------------ |
| `dialect`           | `required` | ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸, <Dialects/> ì¤‘ í•˜ë‚˜                                    |
| `schema`            | `required` | íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ìŠ¤í‚¤ë§ˆ íŒŒì¼ ê²½ë¡œ ë˜ëŠ” ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì´ ìˆëŠ” í´ë” ê²½ë¡œ      |
| `driver`            |            | ë“œë¼ì´ë²„ ì˜ˆì™¸ <Drivers/>                                                  |
| `tablesFilter`      |            | í…Œì´ë¸” ì´ë¦„ í•„í„°                                                         |
| `schemaFilter`      |            | ìŠ¤í‚¤ë§ˆ ì´ë¦„ í•„í„°. ê¸°ë³¸ê°’: `["public"]`                                    |
| `extensionsFilters` |            | ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ ê¸°ëŠ¥ ë‚´ë¶€ í•„í„°                                          |
| `url`               |            | ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ìì—´                                                  |
| `user`              |            | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì                                                       |
| `password`          |            | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸                                                     |
| `host`              |            | í˜¸ìŠ¤íŠ¸                                                                   |
| `port`              |            | í¬íŠ¸                                                                     |
| `database`          |            | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„                                                         |
| `config`            |            | ì„¤ì • íŒŒì¼ ê²½ë¡œ, ê¸°ë³¸ê°’=`drizzle.config.ts`                                |

<Npx>
drizzle-kit push dialect=postgresql schema=src/schema.ts url=postgresql://user:password@host:port/dbname
drizzle-kit push dialect=postgresql schema=src/schema.ts driver=pglite url=database/
drizzle-kit push dialect=postgresql schema=src/schema.ts --tablesFilter='user*' --extensionsFilters=postgis url=postgresql://user:password@host:port/dbname
</Npx>


### í™•ì¥ ì˜ˆì œ

í”„ë¡œì íŠ¸ì— Drizzle ìŠ¤í‚¤ë§ˆë¥¼ ì„ ì–¸í•˜ê³  `drizzle-kit push` ì»¤ë§¨ë“œë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```plaintext
ğŸ“¦ <project root>
 â”œ ğŸ“‚ src
 â”‚ â”œ ğŸ“œ schema.ts
 â”‚ â”” ğŸ“œ index.ts
 â”œ ğŸ“œ drizzle.config.ts
 â”” â€¦
```

<CodeTabs items={["drizzle.config.ts", "src/schema.ts"]}>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  dbCredentials: {
    url: "postgresql://user:password@host:port/dbname"
  },
});
```
```ts 
import * as p from "drizzle-orm/pg-core";

export const users = p.pgTable("users", {
  id: p.serial().primaryKey(),
  name: p.text(),
})
```
</CodeTabs>

ì´ì œ ë‹¤ìŒ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```shell
npx drizzle-kit push
```

ì´ ëª…ë ¹ì–´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê¸°ì¡´(ë¹„ì–´ ìˆëŠ”) ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì ¸ì™€ SQL ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•˜ê³  ë‚´ë¶€ì ìœ¼ë¡œ ì ìš©í•©ë‹ˆë‹¤.
```sql
CREATE TABLE "users"(
  id serial primary key,
  name text,
)
```

ì™„ë£Œ âœ…


