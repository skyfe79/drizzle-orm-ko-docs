---
title: DrizzleORM v0.29.4 ë¦´ë¦¬ìŠ¤
pubDate: 2024-02-22
description: Neon HTTP Batch ì§€ì›ì´ ì¶”ê°€ë˜ì—ˆê³ , database-jsì˜ ê¸°ë³¸ ë™ì‘ê³¼ ì¸ìŠ¤í„´ìŠ¤ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.
---
import Section from "@mdx/Section.astro";

## ìƒˆë¡œìš´ ê¸°ëŠ¥

### ğŸ‰ Neon HTTP ë°°ì¹˜ ì²˜ë¦¬

ë” ë§ì€ ì •ë³´ëŠ” [Neon ë¬¸ì„œ](https://neon.tech/docs/serverless/serverless-driver#issue-multiple-queries-with-the-transaction-function)ì™€ [Neonê³¼ Drizzle ì‹œì‘í•˜ê¸°](/docs/get-started-postgresql#neon)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

<Section>
```ts copy {8}
import { neon } from '@neondatabase/serverless';
import { drizzle } from 'drizzle-orm/neon-http';
import { usersTable } from './schema';

const sql = neon(process.env.DRIZZLE_DATABASE_URL!);
const db = drizzle(sql);

const batchResponse: BatchType = await db.batch([
	db.insert(usersTable).values({ id: 1, name: 'John' }).returning({
		id: usersTable.id,
	}),
	db.insert(usersTable).values({ id: 2, name: 'Dan' }),
	db.query.usersTable.findMany({}),
	db.query.usersTable.findFirst({}),
]);
```

```ts
type BatchType = [
	{
		id: number;
	}[],
	NeonHttpQueryResult,
	{
		id: number;
		name: string;
		verified: number;
		invitedBy: number | null;
	}[],
	{
		id: number;
		name: string;
		verified: number;
		invitedBy: number | null;
	} | undefined,
];
```
</Section>


## ê°œì„  ì‚¬í•­

`database-js`ì™€ `PlanetScale` íŒ€ ë•ë¶„ì—, `database-js`ì˜ ê¸°ë³¸ ë™ì‘ê³¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.

`database-js` ì½”ì–´ íŒ€ì˜ ì œì•ˆì— ë”°ë¼, `connect()` ëŒ€ì‹  `Client` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:

```ts copy {1,5}
import { Client } from '@planetscale/database';
import { drizzle } from 'drizzle-orm/planetscale-serverless';

// ì—°ê²° ìƒì„±
const client = new Client({
	host: process.env['DATABASE_HOST'],
	username: process.env['DATABASE_USERNAME'],
	password: process.env['DATABASE_PASSWORD'],
});

const db = drizzle(client);
```

> ê²½ê³ : ì´ ë²„ì „ì—ì„œëŠ” ì£¼ìš” ë³€ê²½ ì‚¬í•­ì´ ì—†ì§€ë§Œ, `0.30.0` ë²„ì „ë¶€í„°ëŠ” `Client` ì¸ìŠ¤í„´ìŠ¤ ì´ì™¸ì˜ ê²ƒì„ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
>
> í–¥í›„ ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì§€ê¸ˆë¶€í„° PlanetScale ì—°ê²°ì„ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

ì´ì „ ë¬¸ì„œì—ì„œëŠ” `connect()`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì•ˆë‚´í–ˆê³ , ì´ í•¨ìˆ˜ë§Œ `drizzle`ì— ì „ë‹¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ë¦´ë¦¬ìŠ¤ì—ì„œëŠ” `database-js` íŒ€ì˜ ì œì•ˆì— ë”°ë¼ `new Client()`ë¥¼ ì§€ì›í•˜ê³  `connect()`ë¥¼ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ë¦´ë¦¬ìŠ¤ì—ì„œëŠ” `connect()` í•¨ìˆ˜ì˜ ê²°ê³¼ë¥¼ ì „ë‹¬í•˜ë ¤ê³  í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê²½ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤:

**ê²½ê³  ë©”ì‹œì§€**

```mdx
ê²½ê³ : Client ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤:

import { Client } from "@planetscale/database";

const client = new Client({
  host: process.env["DATABASE_HOST"],
  username: process.env["DATABASE_USERNAME"],
  password: process.env["DATABASE_PASSWORD"],
});

const db = drizzle(client);

0.30.0 ë²„ì „ë¶€í„°ëŠ” Client ì¸ìŠ¤í„´ìŠ¤ ì´ì™¸ì˜ ê²ƒì„ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

í–¥í›„ ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì§€ê¸ˆë¶€í„° í•„ìš”í•œ ë³€ê²½ì„ ì§„í–‰í•˜ì„¸ìš”.
```


