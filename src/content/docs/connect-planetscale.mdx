import Npm from '@mdx/Npm.astro';
import Callout from '@mdx/Callout.astro';
import Tabs from '@mdx/Tabs.astro';
import Tab from '@mdx/Tab.astro';
import AnchorCards from '@mdx/AnchorCards.astro';
import WhatsNextPostgres from "@mdx/WhatsNextPostgres.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import CodeTabs from "@mdx/CodeTabs.astro";

# Drizzle \<\> PlanetScale

<Prerequisites>
- Drizzle를 사용한 데이터베이스 [연결 기본 사항](/docs/connect-overview)
- PlanetScale 데이터베이스 - [웹사이트](https://planetscale.com/docs)
- PlanetScale HTTP 드라이버 - [GitHub](https://github.com/planetscale/database-js)
- Drizzle MySQL 드라이버 - [문서](/docs/get-started-mysql)
</Prerequisites>

**[공식 웹사이트](https://planetscale.com/)**에 따르면, PlanetScale은 세계에서 가장 진보된 서버리스 MySQL 플랫폼입니다.

Drizzle ORM을 사용하면 PlanetScale의 공식 **[`database-js`](https://github.com/planetscale/database-js)** 드라이버를 통해 HTTP로 PlanetScale에 접근할 수 있습니다. 이를 통해 서버리스 및 서버풀 환경에서 `drizzle-orm/planetscale-serverless` 패키지를 사용할 수 있습니다.

또한 `mysql2` 드라이버를 통해 TCP로 PlanetScale에 접근할 수도 있습니다. **[여기에서 확인하세요.](/docs/get-started-mysql)**


#### 1단계 - 패키지 설치

<Npm>
drizzle-orm @planetscale/database
-D drizzle-kit
</Npm>


#### 2단계 - 드라이버 초기화 및 쿼리 실행

```typescript
import { drizzle } from "drizzle-orm/planetscale-serverless";

const db = drizzle({ 
  connection: {
    host: process.env["DATABASE_HOST"],
    username: process.env["DATABASE_USERNAME"],
    password: process.env["DATABASE_PASSWORD"],
  }
});

const response = await db.select().from(...)
```

기존 드라이버를 사용해야 하는 경우:

```typescript
import { drizzle } from "drizzle-orm/planetscale-serverless";
import { Client } from "@planetscale/database";

const client = new Client({
  host: process.env["DATABASE_HOST"],
  username: process.env["DATABASE_USERNAME"],
  password: process.env["DATABASE_PASSWORD"],
});

const db = drizzle({ client });
```

PlanetScale 공식 **[MySQL 강좌](https://planetscale.com/courses/mysql-for-developers/introduction/course-introduction)**를 확인해 보세요. 정말 훌륭한 강좌입니다 🙌


#### 다음 단계는 무엇인가요?

<WhatsNextPostgres/>


